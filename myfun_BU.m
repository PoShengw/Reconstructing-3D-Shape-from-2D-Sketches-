 function F=myfun_BU(Z)
 
 global r21;
global r31;
global r32;
global r12;
global r13;
global r23;
global V1;
global V2;
global V3;


W=0.5;
 %f = ((V1(1)*V2(1)+V1(2)*V2(2)+Z(1)*Z(2))/(sqrt(V1(1)^2+V1(2)^+Z(1)^2)*sqrt(V2(1)^2+V2(2)^+Z(2)^2)))^2+((V3(1)*V2(1)+V3(2)*V2(2)+Z(3)*Z(2))/(sqrt(V3(1)^2+V3(2)^+Z(3)^2)*sqrt(V2(1)^2+V2(2)^+Z(2)^2)))^2+((V1(1)*V3(1)+V1(2)*V3(2)+Z(1)*Z(3))/(sqrt(V1(1)^2+V1(2)^+Z(1)^2)*sqrt(V3(1)^2+V3(2)^+Z(3)^2)))^2+W*((r21-sqrt(V2(1)^2+V2(2)^2+Z(2)^2)/sqrt(V1(1)^2+V1(2)^2+Z(1)^2))^2 +(r32-sqrt(V3(1)^2+V3(2)^2+Z(3)^2)/sqrt(V2(1)^2+V2(2)^2+Z(2)^2))^2+(r31-sqrt(V3(1)^2+V3(2)^2+Z(3)^2)/sqrt(V1(1)^2+V1(2)^2+Z(1)^2))^2);

 
%  last f = ((V1(1)*V2(1)+V1(2)*V2(2)+Z(1)*Z(2))^2)/((V1(1)^2+V1(2)^+Z(1)^2)*(V2(1)^2+V2(2)^+Z(2)^2))+((V3(1)*V2(1)+V3(2)*V2(2)+Z(3)*Z(2))^2)/((V3(1)^2+V3(2)^+Z(3)^2)*(V2(1)^2+V2(2)^+Z(2)^2))+((V1(1)*V3(1)+V1(2)*V3(2)+Z(1)*Z(3))^2)/((V1(1)^2+V1(2)^+Z(1)^2)*(V3(1)^2+V3(2)^+Z(3)^2))+W*((r21-sqrt(V2(1)^2+V2(2)^2+Z(2)^2)/sqrt(V1(1)^2+V1(2)^2+Z(1)^2))^2+(r32-sqrt(V3(1)^2+V3(2)^2+Z(3)^2)/sqrt(V2(1)^2+V2(2)^2+Z(2)^2))^2+(r31-sqrt(V3(1)^2+V3(2)^2+Z(3)^2)/sqrt(V1(1)^2+V1(2)^2+Z(1)^2))^2);
 
%f = 3*x(1)^2 + 2*x(1)*x(2) + x(2)^2;
%f = ((V1(1)*V2(1)+V1(2)+V2(2)+Z(1)*Z(2))/(sqrt(V1(1)^2+V1(2)^2+Z(1)^2)*sqrt(V2(1)^2+V2(2)^2+Z(2)^2)))^2+((V3(1)*V2(1)+V3(2)+V2(2)+Z(3)*Z(2))/(sqrt(V3(1)^2+V3(2)^2+Z(3)^2)*sqrt(V2(1)^2+V2(2)^2+Z(2)^2)))^2+((V1(1)*V3(1)+V1(2)+V3(2)+Z(1)*Z(3))/(sqrt(V1(1)^2+V1(2)^2+Z(1)^2)*sqrt(V3(1)^2+V3(2)^2+Z(3)^2)))^2+W*((r21-(sqrt(V2(1)^2+V2(2)^2+Z(2)^2)/sqrt(V1(1)^2+V1(2)^2+Z(1)^2)))^2+(r32-(sqrt(V3(1)^2+V3(2)^2+Z(3)^2)/sqrt(V2(1)^2+V2(2)^2+Z(2)^2)))^2+(r31-(sqrt(V3(1)^2+V3(2)^2+Z(3)^2)/sqrt(V1(1)^2+V1(2)^2+Z(1)^2)))^2);




F = ((V1(1)*V2(1)+V1(2)*V2(2)+Z(1)*Z(2))/(norm([V1(1) V1(2) Z(1)])*norm([ V2(1) V2(2) Z(2)])))^2+((V3(1)*V2(1)+V3(2)*V2(2)+Z(3)*Z(2))/(norm([V3(1) V3(2) Z(3)])*norm([ V2(1) V2(2) Z(2)])))^2+((V1(1)*V3(1)+V1(2)*V3(2)+Z(1)*Z(3))/(norm([V1(1) V1(2) Z(1)])*norm([ V3(1) V3(2) Z(3)])))^2+W*((r21-(norm([V2(1) V2(2) Z(2)])/norm([V1(1) V1(2) Z(1)])))^2+(r32-(norm([V3(1) V3(2) Z(3)])/norm([V2(1) V2(2) Z(2)])))^2+(r31-(norm([V3(1) V3(2) Z(3)])/norm([V1(1) V1(2) Z(1)])))^2);

%F = ((V1(1)*V2(1)+V1(2)*V2(2)+Z(1)*Z(2))/(norm([V1(1) V1(2) Z(1)])*norm([ V2(1) V2(2) Z(2)])))^2+((V3(1)*V2(1)+V3(2)*V2(2)+Z(3)*Z(2))/(norm([V3(1) V3(2) Z(3)])*norm([ V2(1) V2(2) Z(2)])))^2+((V1(1)*V3(1)+V1(2)*V3(2)+Z(1)*Z(3))/(norm([V1(1) V1(2) Z(1)])*norm([ V3(1) V3(2) Z(3)])))^2+((W*r21-W*(norm([V2(1) V2(2) Z(2)])/norm([V1(1) V1(2) Z(1)])))^2+(W*r32-W*(norm([V3(1) V3(2) Z(3)])/norm([V2(1) V2(2) Z(2)])))^2+(W*r31-W*(norm([V3(1) V3(2) Z(3)])/norm([V1(1) V1(2) Z(1)])))^2);



